\documentclass[11pt]{article}

\title{HITS algoritam}
\author{Bruno Fabuli\'{c}, Helena Marciu\v{s}, Dora Parma\v{c}}


\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{esvect}
\usepackage[utf8]{inputenc}
\usepackage{amsfonts}
\usepackage{hyperref}
%\hypersetup{colorlinks=true}
\newcommand\eref[1]{(\ref{#1})}
\usepackage{enumitem}
\usepackage[croatian]{babel}
\usepackage{graphicx}
\hypersetup{
    urlcolor=black
}
\newtheorem{theorem}{Teorem}[section]
\newtheorem{prop}{Propozicija} [section]



\begin{document}
	\maketitle
	\pagenumbering{gobble}
	\newpage
	\hypersetup{linkcolor=black}
	\tableofcontents
	\pagenumbering{roman}
\newpage
\hypersetup{linkcolor=red}
\pagenumbering{arabic}

\section{Uvod}


\section{WWW kao usmjereni graf}
Svaku kolekciju povezanih web stranica možemo predstaviti usmjerenim grafom $G=(V,E)$. Web stranice predstavljamo vrhovima, tj. $V$ je skup web stranica, a poveznice između stranicama predstavljamo bridovima - za stranice $p_{i}$, $p_{j} \in V$, brid $e_{ij}$ je u $E$ ako postoji poveznica sa stranice $p_{i}$ na stranicu $p_{j}$. Kažemo da je stupanj izlaznosti (out - degree) vrha $p_{i}$ broj vrhova na koje $p_{i}$ pokazuje, a stupanj ulaznosti (in-degree) broj vrhova koji pokazuju na $p_{i}$.

\section{Autoriteti i hubovi}
Svakoj stranici $p_{i}$ pridružujemo dvije vrijednosti: autoritet-vrijednost $x_{i}$ i hub-vrijednost $y_{i}$. \\
Rekurzivno definiramo vrijednosti $x_{i}$ i $y_{i}$:
\begin{equation} \label{eq:1}
x_{i} = \sum_{j: e_{ji}\in E} y_{j} \hspace{1cm}  y_{i} = \sum_{j: e_{ij}\in E} x_{j}
\end{equation}
Odnosno, autoritet-vrijednost web stranice je suma hub-vrijednosti svih stranica koje pokazuju na nju. Hub vrijednost web stranice je suma autoritet-vrijednosti web stranica na koje ona pokazuje.
Intuitivno, smatramo da je web stranica dobar autoritet ako na nju pokazuju dobri hubovi. Analogno, smatramo da je web stranica dobar hub ako pokazuje na dobre autoritete.

\section{Podgraf fokusiran na upit}
Pretpostavimo da je dan upit $\sigma$. Želimo pronaći podgraf grafa G na kojem ćemo izvesti algoritam. Mogli bi se ograničiti na skup svih stranica koje spominju upit $\sigma$. Međutim, broj takvih stranica može biti vrlo velik što bi uzrokovalo velikim "troškom" kod računanja. Također, kao što smo prije zaključili, najbolji autoriteti možda neće biti u tom skupu.\\
Htjeli bismo kolekciju $S_{\sigma}$ koja ima sljedeća svojstva
\begin{enumerate}
\item $S_{\sigma}$ je relativno mali skup \label{pr:1}
\item $S_{\sigma}$ sadrži većinom sadrži relevantne stranice \label{pr:2}
\item $S_{\sigma}$ sadrži većinu dobrih autoriteta \label{pr:3}
\end{enumerate}
\subsection{Konstrukcija $S_{\sigma}$}
Za zadani upit $\sigma$, pronađemo relevantne web stranice i rangiramo ih (npr. broj pojavljivanja upita na stranici, PageRank) i odaberemo $k$ najbolje rangiranih stranica. Na taj način dobivamo skup $R_{\sigma}$ koji nazivamo početni skup("root set"). Taj skup zadovoljava 1. i 2. svojstvo, ali možda ne zadovoljava 3. svojstvo. Koristeći ovaj skup, konstruiramo skup $S_{\sigma}$ na sljedeći način: za svaku stranicu $p$ u $R_{\sigma}$, u $R_{\sigma}$ dodamo sve stranice na koje $p$ pokazuje i $d$ proizvoljnih stranica koje pokazuju na $p$.\\
Ograničenje na broj stranica koje pokazuju na $p$ osigurava da je skup $s_{\sigma}$ relativno mali (svojstvo (\ref{pr:1})), a iz konstrukcije se vidi da je zadovoljeno svojstvo (\ref{pr:2}). \\
Pretpostavimo da je $q$ dobar autoritet za zadani upit. Iako se $q$ možda  ne nalazi u $R_{\sigma}$, vrlo je vjerojatno da barem jedna od stranica iz $R_{\sigma}$ pokazuje na $q$ pa se stoga $q$ nalazi u $S_{\sigma}$, tj. zadovoljeno je i svojstvo (\ref{pr:3}).\\
Podgraf grafa $G$ induciran skupom $S_{\sigma}$ označavamo s $G[S_{\sigma}]$ i na njemu provodimo HITS algoritam.

\section{Matrična formulacija}
Za usmjereni graf $G=(V,E)$, definiramo matricu linkova:
$$L = \begin{cases}
1,~e_{ij}\in E\\
0,~e_{ij}\not\in E
\end{cases}$$
Autoritet-vrijednosti $x_{i}$ čine vektor autoriteta $x = (x_{1}, x_{2}, \dots, x_{n})$, a hub vrijednosti čine vektor hubova $y = (y_{1}, y_{2}, \dots, y_{n})$.
Sada se jednadžbe (\ref{eq:1}) mogu zapisati kao
\begin{equation}\label{eq:2}
x = L^{T}y\hspace{1cm}y = Lx
\end{equation}

\section{HITS algoritam}
Iterativno računamo autoritet-vrijednosti i hub-vrijednosti.
Sa $x^{(k)}$ i $y^{(k)}$ označimo vrijednost vektora $x$ odnosno $y$ u $k$-toj iteraciji. Iz jedndadžba (\ref{eq:2}) slijedi
\begin{equation}
cx^{(k+1)} = L^{T}Lx^{(k)}\hspace{1cm} cy^{(k+1)} = LL^{T}y^{(k)}˘
\end{equation}
uz početni uvjet
$x^{(0)} = y^{(0)} = (1, 1, \dots, 1)$, gdje je $c$ konstanta takva da vrijedi $||x||_{2} =1$ i $||y||_{2} =1$. Matricu $L^{T}L$ nazivamo matrica autoriteta, a matricu $LL^{T}$ nazivamo matrica hubova. Uočimo da su ove matrice simetrične.\\
Možemo zapisati algoritam:
\begin{enumerate}
\item Ulaz: Matrica linkova $L$
\item Inicijaliziramo $x^{(0)} = (1,1,\dots,1)$, $y^{(0)} = (1,1,\dots,1)$
\item Računaj $k$-tu iteraciju 
\begin{equation*}
x^{(k+1)} = L^{T}Lx^{(k)}\hspace{1cm} y^{(k+1)} = LL^{T}y^{(k)}˘
\end{equation*}
\item Normiraj dobivene vrijednosti
\begin{equation*}
x^{(k+1)} = \frac{x^{(k+1)}}{||x^{(k+1)}||_{2}}\hspace{1cm}y^{(k+1)} = \frac{y^{(k+1)}}{||y^{(k+1)}||_{2}}
\end{equation*}
\item Provjeri kriterij zaustavljanja
\begin{itemize}
\item Ako kriterij zaustavljanja nije zadovoljen, idi na 3, korak
\item Ako je kriterij zaustavljanja zadovoljen, završi
\end{itemize}
\item Izlaz: Vektori vrijednosti autoriteta, odnosno hubova, $x$ i $y$
\end{enumerate}
$i$-ta komponenta vektora $x$ predstavlja autoritet-vrijednost web stranice $p_{i}$, a $i$-ta komponenta vektora $y$ predstavlja hub-vrijednost web stranice $p_{i}$.
\section{Konvergencija algoritma}
Primijetimo da je $L^{T}L = (LL^{T})^{T}$. Stoga, matrice $L^{T}L$ i $LL^{T}$ imaju iste svojstvene vrijednosti. Kako su to realne i simetrične matrice, njihove svojstvene vrijednosti su također realne.\\
Neka su $\lambda_{1}$, $\lambda_{2}$, $\dots$, $\lambda_{n}$ svojstvene vrijednosti ovih matrica poredane padajuće po apsolutnoj vrijednosti, tj. vrijedi $|\lambda_{1}|\geq |\lambda_{2}|\geq \dots \geq |\lambda_{n}|$. Pretpostavimo da vrijedi $|\lambda_{1}| > |\lambda_{2}|$
Svojstvenu vrijednost $\lambda_{1}$ nazivamo dominantna svojstvena vrijednost.

\begin{theorem}
Nizovi $x^{(1)}, x^{(2)}, x^{(3)}\dots$ i $y^{(1)}, y^{(2)}, y^{(3)}\dots$ konvergiraju limesima $x^{*}$ i $y^{*}$.
\end{theorem}
\begin{proof}

\end{proof}

Dokaz ovog teorem daje sljedeći rezultat.
\begin{theorem}
$x^{*}$ je dominantni svojstveni vektor matrice $L^{T}L$, a $y^{*}$ je dominantni svojstveni vektor matrice $LL^{T}$.
\end{theorem}

\section{Sličnost s bibliometrijskom analiza}
Bibliometrija se bavi kvantitavnim proučavanjem pisanih dokumenata i pojava kao što su produktivnost autora, citiranje, disperzija članaka, učestalost riječi. \\
Ko-citacija dokumenata $a$ i $b$ je mjera sličnosti koja se definira kao frekvencija citiranja ta dva dokumenta, tj. broj dokumenata koji citiraju dokumente $a$ i $b$. Što je veći broj dokumenata koji citiraju $a$ i $b$, njihova je ko-citacija veća pa je veća vjerojatnost da su $a$ i $b$ semantički slični.\\
Slično, ko-referenca dokumenata $a$ i $b$ je mjera sličnosti koje se definira kao broj dokumenata na koje $a$ i $b$ imaju referencu. Ako $a$ i $b$ imaju veću ko-referencu, veća je vjerojatnost da $a$ i $b$ obrađuju sličnu temu.\\
Na sličan način možemo definirati mjere sličnosti između autoriteta, odnosno hubova.
\subsection{Autoriteti i ko-citacije}
Ako na web stranice $p_i$ i $p_j$ pokazuje veći broj stranica, vjerojatnije je da su one na neki način slične.
Za web stranice $p_i$ i $p_j$ definiramo ko-citacije kao broj web stranica koje pokazuju na $p_i$i $p_j$. Matrično se ovo može zapisati kao
\begin{equation}
C_{ij} = \sum_{k} L_{ki}L_{kj} = \sum_{k}(L^{T})_{ik}L_{kj} = (L^{T}L)_{ij}
\end{equation}
uz $C_{ii} = 0$. Također vrijedi simetrija, tj. $C_{ij} = C_{ji}$.\\
Označimo sa $d_{i}$ stupanj ulaznosti stranice $p_{i}$. $d_{i}$ možemo računati kao
\begin{equation}
d_{i} = \sum_{k}L_{ki} = \sum_{k}L_{ki}L_{ki} = (L^{T}L)_{ii}
\end{equation}
jer je $L_{ki} = L_{ki}^2$ jer je $L_{ki} =1$ ili  $L_{ki} = 0$.\\
Definiramo matricu stupnjeva ulaznosti $D$:
\begin{equation}
D = diag(d_{i},d_{2}, \dots , d_{n})
\end{equation}
Tada matrica autoriteta ima sljedeću strukturu:
\begin{equation}
L^{T}L = D + C
\end{equation}
odnosno, matrica autoriteta je zbroj matrice ko-citacija i matrice stupnjeva ulaznosti.
\subsection{Hubovi i ko-reference}
Za web stranice $p_i$ i $p_j$ definiramo ko-reference kao broj web stranica na koje pokazuju $p_i$i $p_j$. Matrično se ovo može zapisati kao
\begin{equation}
R_{ij} = \sum_{k} L_{ik}L_{jk} = \sum_{k}L_{ik}(L^{T})_{kj} = (LL^{T})_{ij}
\end{equation}
uz $R_{ii} = 0$. Također vrijedi simetrija, tj. $R_{ij} = R_{ji}$.\\
Označimo sa $o_{i}$ stupanj izlaznosti stranice $p_{i}$. $o_{i}$ možemo računati kao
\begin{equation}
o_{i} = \sum_{k}L_{ik} = \sum_{k}L_{ik}L_{ik} = (LL^{T})_{ii}
\end{equation}
jer je $L_{ik} = L_{ik}^2$ jer je $L_{ik} =1$ ili  $L_{ik} = 0$.\\
Definiramo matricu stupnjeva izlaznosti $O$:
\begin{equation}
O = diag(o_{i},o_{2}, \dots , o_{n})
\end{equation}
Tada matrica autoriteta ima sljedeću strukturu:
\begin{equation}
LL^{T} = O + R
\end{equation}
odnosno, matrica hubova je zbroj matrice ko-referenca i matrica stupnjeva izlaznosti.
\section{Vjerojatnosna analiza}
\begin{prop}
Prosječna vrijednost ko-citacija dana je formulom
\begin{equation} \label{eq:4}
\langle C_{ik}\rangle = \frac{d_{i}d_{k}}{n-1}
\end{equation}
\end{prop}
\begin{proof}

\end{proof}

\section{Average case analiza}
\begin{theorem}
Matrica autoriteta $L^{T}L$ u prosječnom slučaju, uz uvjet $d_[i]+d_{j}<n+1$ za svaki $i,j$ ima sljedeće svojstvene vrijednosti i svojstvene vektore:
\begin{enumerate}
\item Za svojstvene vrijednosti vrijedi
\begin{equation}
\lambda_{1} > \hat{d_{1}}>\lambda_{2}>\hat{d_{2}}>\dots >\lambda_{n}>\hat{d_{n}}
\end{equation}
\item k-ti svojsteni vektor je
\begin{equation} 
\textbf{u}_{k}= \left(\frac{d_{1}}{\lambda_{k}-\hat{d_{1}}},\frac{d_{2}}{\lambda_{k}-\hat{d_{2}}},\dots, \frac{d_{n}}{\lambda_{k}-\hat{d_{n}}} \right)^{T}
\end{equation}
\end{enumerate}
Web stranice indeksiramo tako da je $d_{1}>d_{2}>\dots>d_{n}$ i vrijedi $\hat{d_{i}} = d_{i} - \frac{d_{i}^{2}}{n-1}$.
\end{theorem}
\begin{proof}
Koristeći izraz (\ref{eq:4}), prosječna matrica autoriteta je
\begin{equation}
\langle L^{T}L\rangle = \langle D \rangle + \langle C \rangle = diag(\hat{d_{1}}, \dots , \hat{d_{n}}) + \frac{1}{n-1} dd^{T}
\end{equation}
\end{proof}
Analogan rezultat vrijedi za matricu hubova $LL^{T}$.

\end{document}